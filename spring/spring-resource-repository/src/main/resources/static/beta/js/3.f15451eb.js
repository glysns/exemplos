(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"4f6b":function(a,t,e){"use strict";e.r(t);var o=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("q-card",{staticStyle:{width:"600px"}},[e("q-toolbar",[e("q-toolbar-title",[a._v("Inclusão de Questões")]),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:a.fechar}})],1),e("q-tabs",{attrs:{dense:""},model:{value:a.tabSelecionada,callback:function(t){a.tabSelecionada=t},expression:"tabSelecionada"}},[e("q-tab",{attrs:{name:"digitada",label:"DIGITADA"}}),e("q-tab",{attrs:{name:"upload",label:"UPLOAD"}})],1),e("q-separator"),e("q-tab-panels",{attrs:{"keep-alive":""},model:{value:a.tabSelecionada,callback:function(t){a.tabSelecionada=t},expression:"tabSelecionada"}},[e("q-tab-panel",{attrs:{name:"digitada"}},[e("q-form",{ref:"form",staticClass:"row q-pa-md q-col-gutter-md"},[e("q-select",{staticClass:"col-12 col-md-7",attrs:{label:"Tema","stack-label":"",dense:"",outlined:"",options:a.temas,"option-value":"id","option-label":"nome","emit-value":"","map-options":""},model:{value:a.cadastro.tema,callback:function(t){a.$set(a.cadastro,"tema",t)},expression:"cadastro.tema"}}),e("q-select",{staticClass:"col-12 col-md-5",attrs:{label:"Nível","stack-label":"",dense:"",outlined:"",options:a.niveis,"option-value":"id","option-label":"nome","emit-value":"","map-options":""},model:{value:a.cadastro.nivel,callback:function(t){a.$set(a.cadastro,"nivel",t)},expression:"cadastro.nivel"}}),e("q-select",{staticClass:"col-12 col-md-12",attrs:{label:"Criador","stack-label":"",dense:"",outlined:"",options:a.criadores,"option-value":"id","option-label":"nome","emit-value":"","map-options":""},model:{value:a.cadastro.criador,callback:function(t){a.$set(a.cadastro,"criador",t)},expression:"cadastro.criador"}}),e("q-input",{staticClass:"col-12 col-md-12",attrs:{label:"Pergunta?",type:"textarea",rows:5,"stack-label":"",dense:"",outlined:""},model:{value:a.cadastro.pergunta,callback:function(t){a.$set(a.cadastro,"pergunta",t)},expression:"cadastro.pergunta"}}),e("q-input",{staticClass:"col-12 col-md-3",attrs:{label:"Alternativa A",type:"textarea",rows:3,"stack-label":"",dense:"",outlined:""},model:{value:a.cadastro.alternativaA,callback:function(t){a.$set(a.cadastro,"alternativaA",t)},expression:"cadastro.alternativaA"}}),e("q-input",{staticClass:"col-12 col-md-3",attrs:{label:"Alternativa B",type:"textarea",rows:3,"stack-label":"",dense:"",outlined:""},model:{value:a.cadastro.alternativaB,callback:function(t){a.$set(a.cadastro,"alternativaB",t)},expression:"cadastro.alternativaB"}}),e("q-input",{staticClass:"col-12 col-md-3",attrs:{label:"Alternativa C",type:"textarea",rows:3,"stack-label":"",dense:"",outlined:""},model:{value:a.cadastro.alternativaC,callback:function(t){a.$set(a.cadastro,"alternativaC",t)},expression:"cadastro.alternativaC"}}),e("q-input",{staticClass:"col-12 col-md-3",attrs:{label:"Alternativa D",type:"textarea",rows:3,"stack-label":"",dense:"",outlined:""},model:{value:a.cadastro.alternativaD,callback:function(t){a.$set(a.cadastro,"alternativaD",t)},expression:"cadastro.alternativaD"}}),e("q-input",{staticClass:"col-12 col-md-12",attrs:{label:"Resposta",type:"textarea",rows:2,"stack-label":"",dense:"",outlined:""},model:{value:a.cadastro.resposta,callback:function(t){a.$set(a.cadastro,"resposta",t)},expression:"cadastro.resposta"}}),e("q-input",{staticClass:"col-12 col-md-12",attrs:{label:"Justificativa",type:"textarea",rows:2,"stack-label":"",dense:"",outlined:""},model:{value:a.cadastro.justificativa,callback:function(t){a.$set(a.cadastro,"justificativa",t)},expression:"cadastro.justificativa"}})],1)],1),e("q-tab-panel",{attrs:{name:"upload"}},[e("q-form",{ref:"form",staticClass:"row q-pa-md q-col-gutter-md"},[e("q-select",{staticClass:"col-12 col-md-12",attrs:{label:"Tema","stack-label":"",dense:"",outlined:"",options:a.temas,"option-value":"id","option-label":"nome","emit-value":"","map-options":""},model:{value:a.cadastro.tema,callback:function(t){a.$set(a.cadastro,"tema",t)},expression:"cadastro.tema"}}),e("q-select",{staticClass:"col-12 col-md-12",attrs:{label:"Criador","stack-label":"",dense:"",outlined:"",options:a.criadores,"option-value":"id","option-label":"nome","emit-value":"","map-options":""},model:{value:a.cadastro.criador,callback:function(t){a.$set(a.cadastro,"criador",t)},expression:"cadastro.criador"}}),e("q-uploader",{staticClass:"col-12 col-md-12",attrs:{url:a.$api.apiRoot+"avaliacao/questoes/upload",headers:[{name:"criador",value:this.cadastro.criador},{name:"tema",value:this.cadastro.tema}],fieldName:"questoes",method:"POST"}})],1)],1)],1),e("q-separator"),e("q-card-actions",[e("q-toolbar",{attrs:{dense:""}},[e("q-toolbar-title"),e("q-btn",{attrs:{dense:"",color:"primary",icon:"save",label:"Salvar",disable:a.disable},on:{click:a.salvar}}),e("q-btn",{attrs:{dense:"",flat:"",icon:"close",label:"Fechar"},on:{click:a.fechar}})],1)],1)],1)},s=[],l=e("a34a"),n=e.n(l),c=(e("96cf"),e("c973")),i=e.n(c),r=(e("551c"),e("06db"),e("097d"),{props:{id:String},data:function(){return{cadastro:{},temas:[],criadores:[],niveis:[],tabSelecionada:"digitada"}},created:function(){var a=this;this.$api.get("/avaliacao/temas/all").then((function(t){a.temas=t.content})),this.$api.get("/cadastros/all").then((function(t){a.criadores=t.content})),this.$api.get("/enums/questoes-niveis").then((function(t){a.niveis=t.content}))},mounted:function(){this.id&&this.carregar()},computed:{disable:function(){return"upload"===this.tabSelecionada},uploadUrl:function(){return this.$api.apiRoot+"/avaliacao/questoes/upload"}},methods:{carregar:function(){var a=this;this.$q.loading.show(),this.$api.get("/avaliacao/questoes/one/"+this.id).then((function(t){a.cadastro=t.content})).finally(this.$q.loading.hide())},salvar:function(){var a=this;return i()(n.a.mark((function t(){var e;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(a.cadastro),t.next=3,a.$refs.form.validate();case 3:if(e=t.sent,e){t.next=7;break}return a.$msg.warn("Preencha os campos corretamente"),t.abrupt("return");case 7:console.log(a.cadastro),a.$msgs.confirm("Confirma a gravação dos dados?").onOk((function(){a.$q.loading.show(),a.$api.post("/avaliacao/questoes/save",a.cadastro).then((function(t){a.$msg.success("Registro salvo com sucesso"),a.fechar()})).finally(a.$q.loading.hide())}));case 9:case"end":return t.stop()}}),t)})))()},fechar:function(){this.$router.go(-1)}}}),d=r,u=e("2877"),p=Object(u["a"])(d,o,s,!1,null,null,null);t["default"]=p.exports}}]);