(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[28],{"4dbe":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{staticClass:"bg-grey-3",attrs:{view:"lHh Lpr lFf"}},[a("q-header",{attrs:{elevated:""}},[a("q-toolbar",{staticClass:"shadow-none q-pr-none"},[a("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu"},on:{click:function(t){e.leftDrawerOpen=!e.leftDrawerOpen}}}),a("q-toolbar-title",[e._v(" Portal Educa")]),a("q-btn-dropdown",{staticClass:"btn-usuario",attrs:{dense:"","no-caps":"",flat:"",icon:"account_circle",label:e.$sessao.login}},[a("q-list",[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:e.alterarSenha}},[a("q-item-section",[a("q-item-label",[e._v("Alterar Senha")])],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:e.sair}},[a("q-item-section",[a("q-item-label",[e._v("Sair")])],1)],1)],1)],1)],1),a("q-tabs",{staticClass:"bg-primary text-white",attrs:{"inline-label":"",dense:"",align:"left"}},[a("q-route-tab",{attrs:{icon:"home",to:"/",replace:""}},[e._v("  Início")]),e._l(e.openedPages,(function(t){return a("q-route-tab",{key:t.key,attrs:{icon:t.icon,to:t.path}},[e._v("\n          "+e._s(t.title)+"\n        "),a("q-btn",{staticClass:"close-btn",attrs:{round:"",flat:"",icon:"close",size:"sm"},on:{click:function(a){return a.preventDefault(),e.closeTab(t)}}},[a("q-tooltip",[e._v("Fechar página")])],1)],1)}))],2)],1),a("q-drawer",{attrs:{"show-if-above":"","content-class":"layout-sidebar-dark"},model:{value:e.leftDrawerOpen,callback:function(t){e.leftDrawerOpen=t},expression:"leftDrawerOpen"}},[a("div",{staticClass:"row justify-center items-center"},[a("img",{staticClass:"q-ma-sm",staticStyle:{"max-height":"71px","max-width":"200px"},attrs:{src:"/clientes/"+e.tenantName+"/logo.png"}})]),a("q-separator",{staticClass:"q-ma-none"}),a("q-scroll-area",{staticStyle:{height:"calc(100% - 145px)"}},[a("q-list",[e._l(e.menus,(function(t){return[t.submenus&&t.submenus.length>0?a("q-expansion-item",{key:t.name||t.label,attrs:{"expand-separator":"",icon:t.icon,label:t.label,"default-opened":""}},[a("q-list",{staticClass:"submenu q-ml-lg"},[e._l(t.submenus,(function(t){return[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.name||t.label,attrs:{clickable:"",to:t.path}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:t.icon}})],1),a("q-item-section",[a("q-item-label",[e._v(e._s(t.label||t.name))])],1)],1)]}))],2)],1):a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.name||t.label,attrs:{clickable:"",to:t.path}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:t.icon}})],1),a("q-item-section",[a("q-item-label",[e._v(e._s(t.label||t.name))])],1)],1)]}))],2)],1)],1),a("q-page-container",[a("keep-alive",{attrs:{include:e.openedNames}},[a("router-view",{key:e.routeViewKey})],1)],1)],1)},i=[],s=(a("a481"),a("20d6"),a("f559"),a("7514"),a("7f7f"),a("28a5"),a("25f1")),o={data:function(){return{leftDrawerOpen:!1,menus:s["a"],openedPages:[]}},computed:{routeViewKey:function(){return this.$route.path.split("/")[1]},openedNames:function(){return this.openedPages.map((function(e){return e.name}))},tenantName:function(){return window.location.host.split(".")[0]}},created:function(){this.$router.afterEach(this.openTab)},mounted:function(){this.openTab(this.$route)},methods:{openMenu:function(e){this.$router.push(e.path)},openTab:function(e,t){if("/"!=e.path&&"/logout"!=e.path){console.log("Main.openTab | to:",e);var a=e.matched.length>2,n="*"==e.name?this.getRouteTitle(e):e.name,i=this.openedPages.find((function(t){return!(!a||!e.path.startsWith(t.path))||t.name==n&&t.path==e.path}));i||n&&this.openedPages.push({name:n,title:this.getRouteTitle(e),icon:e.meta.icon,key:n,path:e.path})}},closeTab:function(e){console.log("Closing tab | page.path:",e.path);var t=this.openedPages.findIndex((function(t){return e.key===t.key}));this.openedPages.splice(t,1),this.$route.path===e.path&&(0===t?this.$router.push("/"):this.$router.push(this.openedPages[t-1].path))},getRouteTitle:function(e){var t=e.meta.name||e.name;return"*"==t&&(t=e.path.split("/")[1]),t},sair:function(){var e=this;this.$msg.confirm("Deseja sair do sistema?").onOk((function(){localStorage.removeItem("usuario.token"),e.$router.replace({name:"login"})}))},alterarSenha:function(){this.$msg.warn("Funcionalidae nao disponivel")}}},r=o,l=a("2877"),c=Object(l["a"])(r,n,i,!1,null,null,null);t["default"]=c.exports}}]);